<template>
    <header class="header top-nav">
        <div class="nav">
            <input id="menu-toggle" type="checkbox" />
            <label class='menu-button-container' for="menu-toggle">
                <div class='menu-button'></div>
            </label>
            <ul id="menu" class="menu">
                <li>
                    <router-link :to="{ name: 'concerts' }">CONCERTS</router-link>
                </li>
                <li>
                    <keep-alive>
                        <router-link :to="{ name: 'performances', params: { show_data: SHOWS } }">PERFORMANCES
                        </router-link>
                    </keep-alive>
                </li>
                <li>
                    <router-link :to="{ name: 'concerts' }">BROADCASTS</router-link>
                </li>
                <li><a href="#">FAQ</a></li>
            </ul>
        </div>
        <div>
            <a href="#"><img src="../assets/logo.svg" alt="logo" /></a>
        </div>
        <div class="language">
            EN<svg width="28" height="28" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M14 0C6.2681 0 0 6.2681 0 14C0 21.7319 6.2681 28 14 28C21.7319 28 28 21.7319 28 14C27.9913 6.27174 21.7283 0.00865888 14 0ZM26.108 18.9046L22.1266 19.5916C22.5823 17.9202 22.8284 16.1987 22.8591 14.4667H27.055C27.0024 15.9902 26.6818 17.4925 26.108 18.9046ZM0.944954 14.4667H5.14085C5.17161 16.1987 5.41771 17.9202 5.87344 19.5916L1.89196 18.9046C1.3182 17.4925 0.997591 15.9902 0.944954 14.4667ZM1.89196 9.09544L5.87344 8.40843C5.41771 10.0798 5.17161 11.8013 5.14085 13.5333H0.944954C0.997591 12.0098 1.3182 10.5075 1.89196 9.09544ZM14.4667 7.49287C16.1435 7.51429 17.8163 7.66696 19.4694 7.94974L21.1167 8.23389C21.6228 9.95609 21.8951 11.7384 21.9263 13.5333H14.4667V7.49287ZM19.6285 7.02985C17.9229 6.73841 16.1968 6.58096 14.4667 6.55954V0.959538C17.142 1.21657 19.466 3.66611 20.7831 7.23105L19.6285 7.02985ZM13.5333 6.55954C11.8032 6.58096 10.0775 6.73841 8.37197 7.02985L7.21693 7.22969C8.53398 3.66383 10.858 1.21338 13.5333 0.957487V6.55954ZM8.53102 7.94974C10.184 7.66696 11.8565 7.51429 13.5333 7.49287V13.5333H6.07373C6.10495 11.7384 6.37725 9.95609 6.88333 8.23389L8.53102 7.94974ZM6.07373 14.4667H13.5333V20.5071C11.8565 20.4857 10.1837 20.333 8.53057 20.0503L6.88333 19.7661C6.37725 18.0439 6.10495 16.2616 6.07373 14.4667ZM8.37152 20.9701C10.0771 21.262 11.8029 21.4202 13.5333 21.443V27.043C10.858 26.7857 8.53398 24.3362 7.21693 20.7712L8.37152 20.9701ZM14.4667 21.443C16.1968 21.4202 17.9225 21.262 19.628 20.9701L20.7831 20.7703C19.466 24.3362 17.142 26.7866 14.4667 27.0425V21.443ZM19.469 20.0503C17.816 20.333 16.1435 20.4857 14.4667 20.5071V14.4667H21.9263C21.8951 16.2616 21.6228 18.0439 21.1167 19.7661L19.469 20.0503ZM22.8591 13.5333C22.8284 11.8013 22.5823 10.0798 22.1266 8.40843L26.108 9.09544C26.6818 10.5075 27.0024 12.0098 27.055 13.5333H22.8591ZM25.6359 8.06686L21.8194 7.40833C21.1333 5.17002 19.8497 3.16117 18.1066 1.59824C21.3662 2.68607 24.0693 5.00824 25.6359 8.06686ZM9.89342 1.59824C8.15026 3.16117 6.8667 5.17002 6.1806 7.40833L2.36409 8.06686C3.93066 5.00824 6.63382 2.68607 9.89342 1.59824ZM2.36409 19.9331L6.1806 20.5917C6.8667 22.83 8.15026 24.8388 9.89342 26.4018C6.63382 25.3139 3.93066 22.9918 2.36409 19.9331ZM18.1066 26.4018C19.8497 24.8388 21.1333 22.83 21.8194 20.5917L25.6359 19.9331C24.0693 22.9918 21.3662 25.3139 18.1066 26.4018Z"
                    fill="white" />
            </svg>
        </div>
        <keep-alive>
            <router-link :to="{ name: 'basket', params: { basket_data: CARD } }">
                <div class="basket">
                    <svg width="30" height="27" viewBox="0 0 30 27" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M29.1211 8.78905H26.0279L19.2605 0.329873C18.9574 -0.049053 18.4043 -0.110635 18.0252 0.192646C17.6462 0.495869 17.5847 1.04894 17.888 1.42798L23.7768 8.78905H6.22318L12.1121 1.42798C12.4153 1.04894 12.3538 0.49581 11.9749 0.192646C11.5958 -0.110635 11.0427 -0.0491116 10.7395 0.329873L3.97213 8.78905H0.878906C0.393516 8.78905 0 9.18257 0 9.66796V13.1836C0 13.669 0.393516 14.0625 0.878906 14.0625H1.97379L5.3073 25.7297C5.41506 26.1071 5.75994 26.3672 6.15234 26.3672H23.8477C24.2401 26.3672 24.5849 26.1071 24.6928 25.7297L28.0262 14.0625H29.1211C29.6065 14.0625 30 13.669 30 13.1836V9.66796C30 9.18257 29.6065 8.78905 29.1211 8.78905ZM23.1847 24.6094H6.81527L3.80191 14.0625H26.1981L23.1847 24.6094ZM28.2422 12.3047C25.2313 12.3047 4.61016 12.3047 1.75781 12.3047V10.5469H28.2422V12.3047Z"
                            fill="white" />
                    </svg>
                    <div class="basket-counter">{{ CARD.length }}</div>
                </div>
            </router-link>
        </keep-alive>
        <div class="user">
            <svg width="26" height="28" viewBox="0 0 26 28" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                    d="M12.9175 27.6512C10.5013 27.6512 8.13938 26.8533 6.13038 25.3584C4.12139 23.8635 2.55558 21.7388 1.63094 19.2528C0.706302 16.7669 0.464389 14.0314 0.935765 11.3924C1.40714 8.75335 2.57062 6.32923 4.27913 4.42658C5.98763 2.52394 8.16441 1.22825 10.5342 0.703314C12.9039 0.178376 15.3603 0.447778 17.5926 1.47748C19.8249 2.50719 21.7328 4.25092 23.0752 6.4882C24.4175 8.72547 25.134 11.3558 25.134 14.0465C25.1302 17.6534 23.842 21.1114 21.5517 23.6619C19.2615 26.2123 16.1564 27.647 12.9175 27.6512ZM20.4571 23.0623C19.7094 22.6274 18.9063 22.3226 18.0757 22.1587C16.8779 21.8278 15.279 21.5892 15.4193 20.0528C14.8981 20.5444 14.267 20.8693 13.5931 20.993C12.9192 21.1167 12.2278 21.0345 11.5925 20.7552C11.1799 20.5654 10.9026 20.1756 10.602 20.2034C10.6856 21.698 9.05312 21.8588 7.94568 22.1587C7.0747 22.3214 6.23836 22.6625 5.47908 23.1648C7.52728 25.254 10.2087 26.4043 12.9861 26.3853C15.7636 26.3663 18.4321 25.1794 20.4571 23.0623ZM13.7522 6.4159C10.0338 6.05965 8.21672 8.88818 8.75482 13.0341C8.67443 13.0392 8.59614 13.0646 8.52592 13.1084C8.45571 13.1523 8.39543 13.2134 8.34967 13.2872C8.3599 14.5293 8.56957 15.5494 9.38552 15.8942C9.79179 17.9343 11.0862 20.3237 13.392 20.0073C15.2546 19.7542 16.2745 17.7388 16.6785 15.8942C17.4626 15.5418 17.7433 14.3806 17.6689 13.2366C17.6524 13.0379 17.37 13.1347 17.2637 13.036C17.9331 9.78671 16.2495 6.65509 13.7533 6.4159H13.7522ZM12.9175 1.70743C10.7662 1.70355 8.66051 2.39834 6.85833 3.70675C5.05616 5.01517 3.6357 6.88042 2.77086 9.0741C1.90603 11.2678 1.63436 13.6947 1.98912 16.0577C2.34389 18.4207 3.30969 20.6172 4.76826 22.3783C4.96777 22.1766 5.18805 22.002 5.42453 21.8581C6.60924 21.1621 8.16047 21.2481 9.61167 20.454V19.0505C9.02585 18.4614 8.93322 17.4914 8.53206 16.6941C8.24165 16.293 7.97118 15.8745 7.72181 15.4405C7.43836 14.7858 7.31412 14.0596 7.36155 13.3347C7.40189 12.9177 7.63542 12.6538 7.6769 12.2817C7.73372 11.7629 7.63486 11.2218 7.6769 10.7276C7.77257 9.37699 8.28027 8.10343 9.11563 7.11846C9.951 6.1335 11.0638 5.4964 12.2692 5.31298H13.7994C16.4205 5.79326 18.2143 7.95038 18.3916 11.1288C18.4126 11.5015 18.2922 11.9147 18.3467 12.3311C18.4857 12.7078 18.606 13.0927 18.707 13.484C18.7234 14.0848 18.6233 14.6824 18.4134 15.2362C18.2036 15.7899 17.889 16.2868 17.491 16.6928C17.2865 17.5456 16.9348 18.346 16.4557 19.0493V20.4028C17.6689 21.2045 19.3047 21.1431 20.5076 21.8069C20.737 21.9364 20.954 22.0914 21.1554 22.2694C22.5877 20.4985 23.5279 18.3029 23.862 15.9488C24.1961 13.5947 23.9098 11.1832 23.0378 9.00663C22.1658 6.83009 20.7456 4.98198 18.9493 3.6864C17.1529 2.39082 15.0577 1.70339 12.9175 1.70743Z"
                    fill="white" />
            </svg>
            <div>
                <p>Sign in |</p>
                <p>Register</p>
            </div>
        </div>
    </header>
</template>

<script>
import { mapGetters } from "vuex";

export default {
  name: "v-header",
  props: {},
  computed: {
    ...mapGetters(["SHOWS", "CARD"]),
  },
};
</script>

<style lang="scss" scoped>
html,
body {
    margin: 0;
    height: 100%;
}

* {
    box-sizing: border-box;
}

.top-nav {
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
    background-color: black;
    color: #FFF;
    height: 50px;
    padding: 1em;
}

.menu {
    display: flex;
    flex-direction: row;
    list-style-type: none;
    margin: 0;
    padding: 0;
}

.menu>li {
    // margin: 0 1rem;
    overflow: hidden;
}

.menu-button-container {
    display: none;
    height: 100%;
    width: 30px;
    cursor: pointer;
    flex-direction: column;
    justify-content: center;
    align-items: center;
}

#menu-toggle {
    display: none;
}

.menu-button,
.menu-button::before,
.menu-button::after {
    display: block;
    background-color: #E8A562;
    position: absolute;
    height: 4px;
    width: 30px;
    transition: transform 400ms cubic-bezier(0.23, 1, 0.32, 1);
    border-radius: 2px;
}

.menu-button::before {
    content: '';
    margin-top: -8px;
}

.menu-button::after {
    content: '';
    margin-top: 8px;
}

#menu-toggle:checked+.menu-button-container .menu-button::before {
    margin-top: 0px;
    transform: rotate(405deg);
}

#menu-toggle:checked+.menu-button-container .menu-button {
    background: rgba(255, 255, 255, 0);
}

#menu-toggle:checked+.menu-button-container .menu-button::after {
    margin-top: 0px;
    transform: rotate(-405deg);
}

@media (max-width: 1024px) {
    .menu-button-container {
        display: flex;
    }

    .menu {
        position: absolute;
        top: 0;
        margin-top: 50px;
        left: 0;
        flex-direction: column;
        width: 100%;
        justify-content: center;
        align-items: center;
        z-index: 5;
    }

    #menu-toggle~.menu li {
        height: 0;
        margin: 0;
        padding: 0;
        border: 0;
        transition: height 400ms cubic-bezier(0.23, 1, 0.32, 1);
    }

    #menu-toggle:checked~.menu li {
        border: 1px solid #333;
        height: 2.5em;
        padding: 0.5em;
        transition: height 400ms cubic-bezier(0.23, 1, 0.32, 1);
    }

    .menu>li {
        display: flex;
        justify-content: center;
        margin: 0;
        padding: 0.5em 0;
        width: 100%;
        color: white;
        background-color: #222;
    }

    .menu>li:not(:last-child) {
        border-bottom: 1px solid #444;
    }
}
</style>